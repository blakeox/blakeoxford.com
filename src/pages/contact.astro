---
import Layout from '../layouts/BaseLayout.astro';
import CoinFlipImage from '../components/CoinFlipImage.astro';
const title = "Contact Me";
const description = "Get in touch with Blake Oxford for collaboration, inquiries, or just to say hello!";
const canonicalUrl = "https://blakeoxford.com/contact/";
---

<Layout title={title} description={description} url={canonicalUrl} wide={true}>
  {/* Sticky progress bar and nav */}
  <div class="fixed left-0 top-0 h-1 z-50 bg-gradient-to-r from-accent to-purple-500" id="progress-bar"></div>
  <nav id="sticky-nav" class="sticky top-0 z-40 backdrop-blur-md bg-background/80 dark:bg-background-dark/80 shadow-sm py-4">
    <div class="flex justify-center space-x-4 text-sm font-medium">
      <a href="#contact-info" class="nav-link px-3 py-2 rounded-md hover:text-accent">Contact Info</a>
      <a href="#message-form" class="nav-link px-3 py-2 rounded-md hover:text-accent">Message</a>
      <a href="#social" class="nav-link px-3 py-2 rounded-md hover:text-accent">Social</a>
    </div>
  </nav>
  {/* Hero section */}
  <section id="hero" class="py-20 md:py-32 bg-gradient-to-br from-background via-accent/5 to-background relative overflow-hidden">
    <div class="container mx-auto max-w-screen-xl px-4 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <div class="space-y-6">
        <h1 class="font-heading font-bold text-5xl md:text-6xl text-gradient bg-gradient-to-r from-accent-dark to-purple-600">Let's Connect</h1>
        <p class="text-lg text-gray-700 dark:text-gray-300">Have a project in mind or just want to chat? Iâ€™m all ears and ready to collaborate.</p>
        <a href="#message-form" class="c-btn bg-accent text-background px-6 py-3 rounded-lg font-semibold hover:bg-accent-dark transition">Send a Message</a>
      </div>
      <div class="flex justify-center md:justify-end">
        <div class="relative">
          <CoinFlipImage frontSrc="/assets/images/Blake-O-scaled.jpg" backSrc="/assets/images/china-profile-picture.jpg" alt="Blake Oxford" size={260} flipMultipleTimes />
          <div class="absolute -top-4 -right-4 w-12 h-12 bg-accent rounded-full flex items-center justify-center text-white animate-float">ğŸ’¡</div>
        </div>
      </div>
    </div>
  </section>
  {/* Main contact section */}
  <section id="contact-info" class="c-contact-page w-full py-20 relative overflow-hidden bg-gradient-to-br from-background via-accent/5 to-background animate-fade-in" role="region" aria-labelledby="contact-title">
    <!-- Animated SVG background pattern -->
    <div class="absolute inset-0 z-0 opacity-20 pointer-events-none">
      <svg class="absolute inset-0 w-full h-full" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <pattern id="contact-grid" width="40" height="40" patternUnits="userSpaceOnUse">
            <path d="M0 40L40 0M20 40L40 20M0 20L20 0" fill="none" stroke="currentColor" stroke-width="1" stroke-opacity="0.12" />
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#contact-grid)" />
      </svg>
    </div>
    <!-- Blurred/floating shapes -->
    <div class="absolute top-0 right-0 w-64 h-64 bg-accent/20 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2 pointer-events-none"></div>
    <div class="absolute bottom-0 left-0 w-48 h-48 bg-accent/20 rounded-full blur-3xl transform -translate-x-1/2 translate-y-1/2 pointer-events-none"></div>
    <!-- Avatar -->
    <div class="flex justify-center mb-6 animate-fade-in">
      <img src="/assets/images/Blake-O-scaled.jpg" alt="Blake Oxford" class="w-32 h-32 rounded-full shadow-lg border-4 border-accent animate-fade-in animate-slide-up" loading="lazy" />
    </div>
    <h1 id="contact-title" class="font-heading font-bold text-5xl md:text-6xl text-gradient bg-gradient-to-r from-accent-dark to-purple-600 mb-2 text-center animate-fade-in animate-slide-up">{title}</h1>
    <h2 class="text-xl md:text-2xl text-center mb-4 text-gray-700 dark:text-gray-300 animate-fade-in animate-slide-up">I'd love to hear from you. Let's build something great together!</h2>
    <p class="text-lg text-center mb-4 text-gray-700 dark:text-gray-300 animate-fade-in">Let's connect! Whether you want to collaborate, have a question, or just want to say hello, I'm always happy to chat.</p>
    <p class="text-sm text-center text-gray-500 mb-8 animate-fade-in">I usually reply within 24 hours.</p>
    <!-- Decorative SVG divider -->
    <div aria-hidden="true" class="w-full overflow-hidden pointer-events-none mb-8">
      <svg viewBox="0 0 1440 80" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-16 md:h-20 lg:h-24">
        <path fill="currentColor" fill-opacity="0.08" d="M0,32 C360,80 1080,0 1440,48 L1440,80 L0,80 Z" />
      </svg>
    </div>
    <!-- Contact Information -->
    <div class="c-contact-page__info scroll-animate flex flex-col md:flex-row items-center justify-center gap-8 mb-12">
      <a href="mailto:blakepoxford@outlook.com" class="flex flex-col items-center gap-2 group focus:outline-none" aria-label="Email Blake Oxford" title="Email">
        <span class="text-accent text-2xl group-hover:scale-110 transition" title="Email">âœ‰ï¸</span>
        <span class="font-medium text-primary group-hover:text-accent transition-colors">blakepoxford@outlook.com</span>
      </a>
      <a href="tel:2482024479" class="flex flex-col items-center gap-2 group focus:outline-none" aria-label="Call Blake Oxford" title="Phone">
        <span class="text-accent text-2xl group-hover:scale-110 transition" title="Phone">ğŸ“</span>
        <span class="font-medium text-primary group-hover:text-accent transition-colors">248-202-4479</span>
      </a>
      <a href="https://linkedin.com/in/blake-oxford" target="_blank" rel="noopener" class="flex flex-col items-center gap-2 group focus:outline-none" aria-label="Visit Blake Oxford's LinkedIn profile" title="LinkedIn">
        <span class="text-accent text-2xl group-hover:scale-110 transition" title="LinkedIn">ğŸ’¼</span>
        <span class="font-medium text-primary group-hover:text-accent transition-colors">linkedin.com/in/blake-oxford</span>
      </a>
    </div>
    <!-- Contact Form -->
    <h2 class="c-contact-page__subtitle font-heading font-bold text-2xl md:text-3xl text-gradient bg-gradient-to-r from-accent-dark to-purple-600 text-center mb-4 scroll-animate">Or Send Me a Message</h2>
    <!-- Form status message -->
    <div id="form-status" aria-live="polite" class="hidden text-center text-green-600 font-semibold mb-4"></div>
    <div class="c-contact-page__form-container scroll-animate bg-white dark:bg-gray-900 rounded-2xl shadow-xl p-8 mt-4 max-w-xl mx-auto border-2 border-accent/30 animate-slide-up">
      <form name="contact" method="POST" action="?success=true" data-netlify="true" netlify-honeypot="bot-field" class="space-y-6">
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden">
          <label>Don't fill this out if you're human: <input name="bot-field" /></label>
        </p>
        <div class="flex flex-col gap-2">
          <label for="name" class="font-semibold text-lg">Name <span class="text-accent">*</span></label>
          <input type="text" id="name" name="name" required aria-required="true" class="w-full p-3 rounded border-2 border-accent focus:border-accent-dark dark:border-accent-dark dark:bg-gray-800 bg-white transition-colors duration-200" placeholder="Your Name" />
        </div>
        <div class="flex flex-col gap-2">
          <label for="email" class="font-semibold text-lg">Email <span class="text-accent">*</span></label>
          <input type="email" id="email" name="email" required aria-required="true" class="w-full p-3 rounded border-2 border-accent focus:border-accent-dark dark:border-accent-dark dark:bg-gray-800 bg-white transition-colors duration-200" placeholder="you@email.com" />
        </div>
        <div class="flex flex-col gap-2">
          <label for="message" class="font-semibold text-lg">Message <span class="text-accent">*</span></label>
          <textarea id="message" name="message" rows="5" required aria-required="true" class="w-full p-3 rounded border-2 border-accent focus:border-accent-dark dark:border-accent-dark dark:bg-gray-800 bg-white transition-colors duration-200" placeholder="How can I help you? Let's build something great together!"></textarea>
        </div>
        <button type="submit" class="c-btn bg-accent text-background font-semibold px-5 py-2 rounded-lg shadow hover:bg-accent-dark transition-all duration-200 text-base focus:outline-none focus-visible:ring-2 focus-visible:ring-accent flex items-center gap-2 mx-auto">ğŸš€ Send Message</button>
      </form>
      <div class="mt-6 text-center">
        <p class="text-sm text-gray-500 dark:text-gray-400">Alternatively, you can <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=DQSIkWdsW0yxEjajBLZtrQAAAAAAAAAAAANAAReUJElUQ0hGTkZSRkdSSUpPU1RHVDg2MlpYTkg3VC4u" target="_blank" rel="noopener" class="underline text-accent hover:text-accent-dark">use my Microsoft Form</a>.</p>
      </div>
    </div>
    <!-- Secondary CTA -->
    <div class="mt-12 text-center animate-fade-in animate-slide-up">
      <a href="/projects/" class="btn btn-secondary px-6 py-3 rounded-lg border-2 border-accent text-accent font-semibold text-lg hover:bg-accent hover:text-background focus:bg-accent-dark focus:text-background transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent-dark mobile-tap-effect mr-4">See My Work</a>
      <a href="/blog/" class="btn btn-secondary px-6 py-3 rounded-lg border-2 border-accent text-accent font-semibold text-lg hover:bg-accent hover:text-background focus:bg-accent-dark focus:text-background transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent-dark mobile-tap-effect">Read My Blog</a>
    </div>
  </section>
  <!-- Success & Confetti Script -->
  <script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
      const params = new URLSearchParams(window.location.search);
      if (params.get('success') === 'true') {
        const status = document.getElementById('form-status');
        status.textContent = 'Thank you for your message! ğŸ‰';
        status.classList.remove('hidden');
        // Add checkmark animation
        const check = document.createElement('span');
        check.innerHTML = ' <svg width="32" height="32" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="inline-block align-middle text-green-500 animate-fade-in" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>';
        status.appendChild(check);
        // launch confetti
        import('https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js').then(module => {
          module.default({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        });
      }
    });
  </script>
  <!-- Sticky Back to Top Button -->
  <div class="fixed bottom-6 right-6 z-50">
    <a href="#contact-title" class="bg-accent hover:bg-accent-dark text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent" aria-label="Back to top">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
      </svg>
    </a>
  </div>
</Layout>
